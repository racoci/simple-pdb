<h2>Personality Profiles</h2>
<div *ngIf="error" class="error">{{ error }}</div>
<div *ngIf="loading && profiles.length === 0">Loading...</div>

<!-- Wrap the cards in a scrollable container with infiniteScroll -->
<div class="card-container"
      infiniteScroll
      [infiniteScrollDistance]="2"
      [infiniteScrollThrottle]="150"
      (scrolled)="onScroll()">
    <div
      class="personality-card"
      *ngFor="let profile of profiles"
      (click)="goToProfile(profile.id)">
      <img [src]="profile.profile_image_url" alt="{{ profile.profile_name_searchable }}" width="100">
      <h3>{{ profile.profile_name_searchable }}</h3>
      <p>{{ profile.mbti_profile }}</p>
    </div>
</div>

<!-- Optionally show a loading indicator at the bottom when more data is being fetched -->
<div 
  *ngIf="loading && profiles.length > 0" 
  class="loading-more">
  Loading more profiles...
</div>